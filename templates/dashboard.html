<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard | StudentStudy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

<div class="container">

    <!-- Header -->
    <h1>Study Dashboard</h1>
    <p class="subtitle">
        Your AI-generated smart study schedule is ready.
    </p>

    <!-- Student Information -->
    <div class="student-info">
        <p><strong>Student:</strong> {{ student_name }}</p>
        <p><strong>Subject:</strong> {{ subject_name }}</p>
    </div>

    <!-- AI Study Plan Section -->
    <div class="section">
        <h2>AI Study Plan</h2>

        <div class="plan-box">
            {{ plan }}
        </div>
    </div>

    <!-- Progress Tracking Section -->
    <div class="section">
        <h2>Track Your Progress</h2>

        <div class="progress-container">
            <label>
                <input type="checkbox" class="task"> Completed Today's Schedule
            </label><br>

            <label>
                <input type="checkbox" class="task"> Revised Important Topics
            </label><br>

            <label>
                <input type="checkbox" class="task"> Practiced Mock Tests
            </label>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <p id="progressText" style="margin-top:8px;">0% Completed</p>
    </div>

    <!-- Navigation Buttons -->
    <div class="button-group">
        <a href="/" class="btn-secondary">Add Another Subject</a>
        <a href="/calendar" class="btn-secondary">View Calendar</a>
    </div>

</div>

<!-- ================= PROGRESS SCRIPT ================= -->

<script>
    const checkboxes = document.querySelectorAll('.task');
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');

    function updateProgress() {
        let checked = document.querySelectorAll('.task:checked').length;
        let total = checkboxes.length;
        let percent = Math.round((checked / total) * 100);

        progressFill.style.width = percent + "%";
        progressText.textContent = percent + "% Completed";
    }

    checkboxes.forEach(box => {
        box.addEventListener('change', updateProgress);
    });
</script>

</body>
</html>
